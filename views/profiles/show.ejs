<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/html-head.ejs') %>
  <%- include('../partials/nav.ejs')  %> 
<body>
  <main>
    <h2 class="text-4xl"><%= profile.name %>'s Profile </h2><br>
    <div>
      <% if (profile.playerList.length) { %> 
      <h2 class="text-3xl">Player List</h2><br>
      <div class="overflow-x-auto">
        <table class="table w-full table-compact">
          <thead>
            <tr>
              <th></th> 
              <th>Name</th> 
              <th>Team</th> 
              <th>Goals</th>
              <th>Passes</th>
              <th>Key Passes</th>
              <th>Yellow Cards</th>
              <th>Red Cards</th>
            </tr>
          </thead>
          <% profile.playerList.forEach(player => { %>
            <tbody>
            <tr>
              <th></th>
              <td><a class="link" href="/players/<%= player.apiId %> "><%= player.firstName %> <%= player.lastName %></a></td>
              <td><%= player.team %> </td> 
              <td><%= player.goals %> </td> 
              <td><%= player.passes %> </td>
              <td><%= player.keyPasses %> </td>
              <td><%= player.yellowCards %> </td>
              <td><%= player.redCards %> </td>
            </tr>
          </tbody>
          <% }); %>
          <% } else { %>
            <p><br><br><%= profile.name %> does not have a player list yet!</p>
          <% } %>
        </table>
      </div>
      <div class="divider"></div> 
      <% if(profile.boardPosts.length) { %> 
      <h2 class="text-2xl">Posts</h2><br>
      <% profile.boardPosts.forEach(post => { %>
      <div class="flex flex-col w-full">
        <div class="grid h-20 card bg-base-300 rounded-box place-items-center"><%= post.content %><br> <%= post.createdAt.toLocaleDateString() %> </div> 
      <div class="divider"></div> 
      <% }) %> 
      <% } %> 
    </div>
  </main>
</body>
<%- include('../partials/footer') %>
</html>